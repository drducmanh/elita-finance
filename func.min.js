function validatedate(e){var t=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/;if(!e.match(t))return!1;var a=e.split("/"),n=e.split("-");if(lopera1=a.length,lopera2=n.length,lopera1>1)var r=e.split("/");else if(lopera2>1)var r=e.split("-");var i=parseInt(r[0]),l=parseInt(r[1]),o=parseInt(r[2]),u=[31,28,31,30,31,30,31,31,30,31,30,31];if((1==l||l>2)&&i>u[l-1])return!1;if(2==l){var s=!1;if((o%4||!(o%100))&&o%400||(s=!0),0==s&&i>=29)return!1;if(1==s&&i>29)return!1}}function validateMobile(e){var t=/((09|03|07|08|05)+([0-9]{8})\b)/g;return""!==e?0==t.test(e)?!1:!0:!1}function elitaFinanceSend(){var e=jQuery("#elita_your_name").val(),t=jQuery("#elita_your_birthday").val(),a=jQuery("#elita_your_phone").val(),n=jQuery("#elita_your_cmnd").val(),r=jQuery("#elita_tinh_thanh").val(),i=jQuery("#elita_promocode").val(),l=jQuery("#amount").val(),o=jQuery("#month").val(),u=jQuery("#thank_you_url").val(),s=jQuery("input[name='giay_to\\[\\]']:checked").map(function(){return jQuery(this).val()}).get(),d="";if(""==s&&(d+="- Vui lòng chọn ít nhất một giấy tờ bạn có\n"),0==l&&(d+="- Vui lòng chọn số tiền muốn vay\n"),0==o&&(d+="- Vui lòng chọn số tháng muốn vay\n"),""==e&&(d+="- Vui lòng nhập họ tên của bạn\n"),0==validatedate(t)&&(d+="- Ngày sinh phải theo định dạng dd/mm/yyyy. Ví dụ 05/03/1987\n"),0==validateMobile(a)&&(d+="- Số điện thoại không hợp lệ\n"),""==n&&(d+="- Vui lòng nhập số CMND/CCCD\n"),""==r&&(d+="- Vui lòng chọn nơi bạn đang sinh sống\n"),d)alert(d);else{jQuery("#button-gui").text("VUI LÒNG ĐỢI...").addClass("disabled").attr("disabled","disabled");var c=jQuery("#elita_finance_base_url").val(),y={action:"financeSend",your_name:e,your_birthday:t,your_phone:a,your_cmnd:n,tinh_thanh:r,promocode:i,amount:l,month:o,giay_to:s};jQuery.post(c+"/wp-admin/admin-ajax.php",y,function(e){alert(e),clearAllData(),jQuery("#button-gui").text("GỬI").removeAttr("disabled").removeClass("disabled"),u&&(window.location.href=""+u)})}}function clearAllData(){jQuery("#elita_your_name").val(""),jQuery("#elita_your_birthday").val(""),jQuery("#elita_your_phone").val(""),jQuery("#elita_your_cmnd").val(""),jQuery("#elita_tinh_thanh").val(""),jQuery("#elita_promocode").val("")}jQuery(document).ready(function(){function e(e,t){var a={action:"CalPrice",amount:e,month:t},n=jQuery("#elita_finance_base_url").val();jQuery.ajax({cache:!1,url:n+"/wp-admin/admin-ajax.php",data:a,type:"post",success:function(e){jQuery(".button-vay").text(parseInt(e).format()+" VNĐ"),console.log(e)},complete:this.resetLoadWaiting,error:this.ajaxFailure})}Number.prototype.format=function(e,t,a,n){var r="\\d(?=(\\d{"+(t||3)+"})+"+(e>0?"\\D":"$")+")",i=this.toFixed(Math.max(0,~~e));return(n?i.replace(".",n):i).replace(new RegExp(r,"g"),"$&"+(a||","))};var t=document.getElementById("rangePrice"),a=document.getElementById("rangeMonth");t.oninput=function(){e(t.value,a.value),jQuery("#strAmount").text(parseInt(this.value).format()),jQuery("#amount").val(this.value)},a.oninput=function(){e(t.value,a.value),jQuery("#strMonth").text(parseInt(this.value).format()),jQuery("#month").val(this.value)}});
